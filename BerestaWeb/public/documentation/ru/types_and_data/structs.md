# Структуры (Базовая реализация)

Структуры в BerestaLanguage — это **лёгкие контейнеры данных**, используемые для хранения связанных полей в одном объекте.  
Они похожи на записи (records) или объекты в других языках, но в текущей версии являются **только хранилищами данных** (без методов и наследования).

---

## Базовый синтаксис

Структура объявляется с помощью оператора присваивания и фигурных скобок `{}`.  
Каждое поле указывается внутри скобок через запятую.

```beresta
obj_player = {
    name,
    hp,
    gold,
    x,
    y
};
```

Это определяет шаблон структуры `obj_player`, который можно использовать для создания экземпляров.

---

## Создание экземпляра

Чтобы создать экземпляр структуры, просто вызови её как функцию с аргументами в порядке объявления полей:
```beresta
player_01 = obj_player("Denis", 100, 250, 32, 64);
```
Это создаст новый объект с указанными значениями полей.

---

## Доступ к полям

Доступ к полям структуры осуществляется через точечную нотацию:
```beresta
console_print(player_01.name); // "Denis"
console_print(player_01.hp);   // 100
console_print(player_01.gold); // 250
```

Можно также изменять значения полей напрямую:
```beresta
player_01.gold = player_01.gold + 100;
console_print(player_01.gold); // 350
```

---

## Передача структур в функции

Структуры можно передавать в функции, как и любые другие значения:
```beresta
function print_player_info(p)
{
    console_print("Name: " + p.name);
    console_print("HP: " + p.hp);
    console_print("Gold: " + p.gold);
}

print_player_info(player_01);
```

---

## Вложенные структуры

Структуры могут содержать другие структуры в качестве полей:
```beresta
obj_position = {x, y};
obj_player = {name, hp, gold, position};

player_01 = obj_player("Denis", 100, 250, obj_position(64, 128));

console_print(player_01.position.x); // 64
console_print(player_01.position.y); // 128
```

---

## Структуры между файлами

Структуры являются глобальными символами после объявления, поэтому их можно использовать в других файлах проекта в рамках одной сборки.  
Это позволяет определять общие типы данных в одном файле и использовать их в других.

Пример:

Файл `objects.beresta`:
```beresta
obj_player = {name, hp, gold};
```

Файл `main.beresta`:
```beresta
player = obj_player("Alex", 120, 50);
console_print(player.name);
```

---

## Планы на будущее

В будущих версиях предполагается добавить поддержку:

- Методов (функций, привязанных к экземплярам)
- Наследования между структурами
- Значений по умолчанию для полей

Эти возможности пока запланированы, но не реализованы в базовом интерпретаторе.

---

## Примечания

- Структуры упрощают определение и управление сущностями вроде игроков, врагов или предметов, обеспечивая удобную организацию данных без сложных объектных систем.
